<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Planta - Irriga+</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h2 class="mb-4">Cadastro de Planta</h2>
    <form method="post" action="/planta/novo/salvar">
      
   
      <div class="mb-3">
        <label for="nome" class="form-label">Nome da Planta</label>
        <input type="text" name="nome" id="nome" class="form-control" placeholder="Digite o nome da planta" required>
      </div>

 
      <div class="mb-3">
        <label for="frequencia" class="form-label">Frequência de irrigação diária (máx 4 vezes)</label>
        <select name="frequencia" id="frequencia" class="form-select" required>
          <option value="">Selecione</option>
          <option value="1">1 vez</option>
          <option value="2">2 vezes</option>
          <option value="3">3 vezes</option>
          <option value="4">4 vezes</option>
        </select>
      </div>

      
      <div class="mb-3">
        <label class="form-label d-block">Dias da Irrigação:</label>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="segunda" id="segunda">
          <label class="form-check-label" for="segunda">Seg</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="terca" id="terca">
          <label class="form-check-label" for="terca">Ter</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="quarta" id="quarta">
          <label class="form-check-label" for="quarta">Qua</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="quinta" id="quinta">
          <label class="form-check-label" for="quinta">Qui</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="sexta" id="sexta">
          <label class="form-check-label" for="sexta">Sex</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="sabado" id="sabado">
          <label class="form-check-label" for="sabado">Sáb</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="dias" value="domingo" id="domingo">
          <label class="form-check-label" for="domingo">Dom</label>
        </div>
      </div>

     
      <div class="mb-3">
        <label for="qtd_agua" class="form-label">Quantidade de Água (ml)</label>
        <input type="number" name="qtd_agua" id="qtd_agua" class="form-control" required>
      </div>

     
      <div class="mb-3">
        <label class="form-label">Horários de Irrigação</label>
        <div id="horarios-container"></div>
      </div>

      <div class="mb-3">
        <label for="sensor" class="form-label">Sensor</label>
        <select name="sensor" id="sensor" class="form-select" required>
          <option value="">Selecione o sensor</option>
          <option value="umidade">Umidade</option>
          <option value="chuva">Chuva</option>
        </select>
      </div>

       <div class="row mt-3">
        <div class="col">
            <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
    </div>
    </form>
  </div>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const frequencia = document.getElementById('frequencia');
    const container = document.getElementById('horarios-container');

    frequencia.addEventListener('change', () => {
      let n = parseInt(frequencia.value) || 0;
      if(n > 4) n = 4; 
      container.innerHTML = '';

      for (let i = 1; i <= n; i++) {
        const div = document.createElement('div');
        div.classList.add('mb-2');
        div.innerHTML = `
          <label class="form-label">Horário ${i}</label>
          <input type="time" name="horarios[]" class="form-control" required>
        `;
        container.appendChild(div);
      }
    });
  </script>
</body>
</html>
