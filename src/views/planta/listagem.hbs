<div class="container ml-4">
  <h2 class="mb-4">Consultas de plantas</h2>

  <div class="d-flex mb-4">
    <form class="d-flex me-2" method="get" action="/planta/listagem">
      <input
        class="form-control me-2"
        type="search"
        name="nome"
        placeholder="Digite o nome da planta"
        aria-label="Pesquisar planta"
      >
      <button class="btn btn-primary" type="submit">Pesquisar</button>
    </form>

    <!-- Botão para cadastrar -->
    <a href="/planta/novo" class="btn btn-success">Cadastrar Planta</a>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Nome da Planta</th>
        <th>Frequência de Irrigação</th>
        <th>Dias da Irrigação</th>
        <th>Quantidade de Água (ml)</th>
        <th>Horários de Irrigação</th>
        <th>Sensor</th>
        <th>Ações</th> 
      </tr>
    </thead>
    <tbody>
      {{#if plantas.length}}
        {{#each plantas}}
        <tr>
          <td>{{nome}}</td>
          <td>{{frequencia}} vez(es) ao dia</td>
          <td>
            {{#each dias}}
              {{this}}{{#unless @last}}, {{/unless}}
            {{/each}}
          </td>
          <td>{{qtd_agua}} ml</td>
          <td>
            {{#each horarios}}
              {{this}}{{#unless @last}}, {{/unless}}
            {{/each}}
          </td>
          <td>{{sensor}}</td>
          <td>
            <a href="/planta/editar/{{id}}" class="btn btn-sm btn-warning me-2">Editar</a>
            <a href="/planta/excluir/{{id}}" class="btn btn-sm btn-danger" onclick="return confirm('Tem certeza que deseja excluir esta planta?')">Excluir</a>
          </td>
        </tr>
        {{/each}}
      {{else}}
        <tr>
          <td colspan="7" class="text-center text-muted">Nenhuma planta cadastrada.</td>
        </tr>
      {{/if}}
    </tbody>
  </table>
</div>
