{{#if success}}
  <div class="alert alert-success">
      {{#each success}}
          {{this}}
      {{/each}}
  </div>
{{/if}}

<div class="container" style="
    background: #ffffff;
    border-radius: 16px;
    padding: 25px 35px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    border: 1px solid #e0e0e0;
    margin-top: 40px;
">
    <h2 style="
        font-size: 1.8rem;
        font-weight: 700;
        color: #1a5748;
        border-bottom: 2px solid #1a5748;
        padding-bottom: 8px;
    ">Sensores</h2>

    <div style="
        padding-top: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
    ">
        <form class="d-flex me-2" method="get" action="/sensor" style="
            flex-grow: 1;
            max-width: 500px;
        ">
            <input class="form-control me-2"
                type="search"
                name="nome"
                placeholder="Buscar sensor"
                aria-label="Pesquisar sensor"
                style="
                    width: 100%;
                    border-radius: 10px;
                    border: 1px solid #E5E5E5;
                    padding: 10px 14px;
            ">
            <button class="btn btn-primary" type="submit" style="
                background-color: #133E34;
                border: none;
                color: #fff;
                border-radius: 10px;
                padding: 8px 18px;
                font-weight: 500;
                display: flex;
                align-items: center;
                gap: 6px;
            ">
                <i class="fa-solid fa-magnifying-glass"></i>
                Buscar
            </button>
        </form>

        <a href="/sensor/novo" class="btn btn-success" style="
            background-color: #3CB371;
            border: none;
            color: #fff;
            border-radius: 10px;
            font-weight: 500;
            padding: 8px 18px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        ">
            Novo
            <i class="fa-solid fa-square-plus" style="color: #DCE8E3;"></i>
        </a>
    </div>

    <table class="table table-striped" style="
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        margin-top: 10px;
    ">
        <thead style="
            background-color: #1A5748;
            color: #DCE8E3;
            text-align: center;
        ">
            <tr>
                <th style="padding: 12px;">Nome</th>
                <th style="padding: 12px;">Tipo</th>              
                <th style="padding: 12px;">Localização</th>
                <th style="padding: 12px;">Status</th>
                <th style="padding: 12px;">Ações</th>
            </tr>
        </thead>
        <tbody>
            {{#if sensores.length}}
                {{#each sensores}}
                    <tr style="text-align: center;">
                        <td style="padding: 10px;">{{nome}}</td>
                        <td style="padding: 10px;">{{tipo}}</td>                    
                        <td style="padding: 10px;">{{localizacao}}</td>
                        <td style="padding: 10px;">{{status}}</td>
                        <td>
                            <div>
                                <a href="/sensor/editar/{{id}}" style="
                                    background-color: #F5B82E;
                                    color: #fff;
                                    border: none;
                                    font-weight: 500;
                                    border-radius: 6px;
                                    padding: 4px 10px;
                                ">
                                    <i class="fa-solid fa-pencil" style="color: #DCE8E3;"></i>
                                </a>
                                <a href="/sensor/excluir/{{id}}" class="btn btn-sm btn-danger"
                                    onclick="return confirm('Tem certeza que deseja excluir este sensor?')" style="
                                    background-color: #E74C3C;
                                    color: #fff;
                                    border: none;
                                    font-weight: 500;
                                    border-radius: 6px;
                                    padding: 4px 10px;
                                 ">
                                    <i class="fa-solid fa-trash-can" style="color: #DCE8E3;"></i>
                                </a>
                            </div>          
                        </td>
                    </tr>
                {{/each}}
            {{else}}
                <tr>
                    <td colspan="5" class="text-center text-muted" style="
                        padding: 16px;
                        color: #777;
                        font-style: italic;
                    ">
                        Nenhum sensor cadastrado!
                    </td>
                </tr>
            {{/if}}
        </tbody>
    </table>
</div>
