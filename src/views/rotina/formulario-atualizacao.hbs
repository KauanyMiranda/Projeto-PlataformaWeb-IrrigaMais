<div style="background: #ffffff; border-radius: 16px; padding: 25px 35px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08); border: 1px solid #e0e0e0; margin-top: 40px;">
  <h2 style="font-size: 1.8rem; font-weight: 700; color: #1a5748; border-bottom: 2px solid #1a5748; padding-bottom: 8px;">
    Atualização de Rotina
  </h2>

  {{#if error}}
    <div class="alert alert-danger" style="margin-top: 20px; padding: 10px; background-color: #f8d7da; color: #721c24; border-radius: 8px;">
      {{#each error}}
        <p style="margin:0;">{{this.message}}</p>
      {{/each}}
    </div>
  {{/if}}

  <form method="post" action="/rotina/{{rotina.id}}/atualizacao-salvar?_method=put" style="margin-top: 30px; display:flex; flex-direction:column; gap:15px;">
    <!-- Nome da Rotina -->
    <div>
      <label for="nome" style="font-weight:500;">Nome da Rotina</label>
      <input type="text" name="nome" id="nome" value="{{rotina.nome}}" style="width:100%; padding:10px; border-radius:10px; border:1px solid #E5E5E5;">
    </div>

    <!-- Frequência e Tipo de Execução -->
    <div style="display:flex; gap:20px; flex-wrap:wrap;">
      <div style="flex:1; min-width:150px;">
        <label for="frequencia" style="font-weight:500;">Frequência</label>
        <select name="frequencia" id="frequencia" style="width:100%; padding:10px; border-radius:10px; border:1px solid #E5E5E5;">
          {{#each frequencias}}
            <option value="{{this}}" {{#ifEquals this ../rotina.frequencia}}selected{{/ifEquals}}>{{this}}</option>
          {{/each}}
        </select>
      </div>

      <div style="flex:1; min-width:150px;">
        <label for="tipo_execucao" style="font-weight:500;">Tipo de Execução</label>
        <input type="text" name="tipo_execucao" id="tipo_execucao" value="{{rotina.tipo_execucao}}" style="width:100%; padding:10px; border-radius:10px; border:1px solid #E5E5E5;">
      </div>
    </div>

    <!-- Dias -->
    <div>
      <label style="font-weight:500;">Dias</label>
      <div style="display:flex; flex-wrap:wrap; gap:10px;">
        {{#each diasSemana}}
          <div>
            <input type="checkbox" name="dias" value="{{this}}" id="{{this}}" {{#ifContains ../rotina.dias this}}checked{{/ifContains}}>
            <label for="{{this}}">{{this}}</label>
          </div>
        {{/each}}
      </div>
    </div>

    <!-- Horários -->
    <div>
      <label style="font-weight:500;">Horários</label>
      <div style="display:flex; flex-direction:column; gap:5px;">
        {{#each rotina.horarios}}
          <input type="time" name="horarios" value="{{this}}" style="padding:10px; border-radius:10px; border:1px solid #E5E5E5;">
        {{/each}}
        <!-- Adiciona um campo vazio extra para facilitar adicionar horário novo -->
        <input type="time" name="horarios" style="padding:10px; border-radius:10px; border:1px solid #E5E5E5;">
      </div>
    </div>

    <!-- Botões -->
    <div style="display:flex; justify-content:center; gap:20px; margin-top:20px;">
      <a href="/rotina/listagem" style="background-color:#CDE3DC; border:none; color:#133E34; font-weight:500; border-radius:10px; padding:10px 18px; text-decoration:none;">Cancelar</a>
      <button type="submit" style="background-color:#133E34; border:none; color:white; font-weight:500; border-radius:10px; padding:10px 18px; cursor:pointer;">Atualizar</button>
    </div>
  </form>
</div>
